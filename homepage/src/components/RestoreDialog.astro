---
// Visual demo of the position restore dialog - matches real dialog structure from dialog.ts
// Uses external TypeScript for live time updates, keyboard shortcuts, and interactivity
import InlineKey from "./ui/InlineKey.astro";
---

<div
  class="restore-dialog-demo w-full max-w-md select-none relative min-h-[540px] flex items-center justify-center"
>
  <!-- Dialog container (can be hidden/shown) -->
  <div
    id="restore-dialog"
    class="w-full bg-bg-card border border-border rounded-2xl p-6 shadow-2xl transition-opacity duration-200"
  >
    <!-- Header -->
    <div class="flex items-center justify-between mb-4">
      <span class="text-xl font-semibold text-text">Restore Position</span>
      <button
        id="dialog-close-btn"
        class="text-text-muted hover:text-text text-2xl leading-none transition-colors cursor-pointer"
        aria-label="Close dialog"
      >
        Ã—
      </button>
    </div>

    <!-- Current time container -->
    <div
      class="flex items-center justify-between px-4 py-3 bg-white/5 border border-border rounded-lg mb-2"
    >
      <span class="text-sm text-text-muted">Current time</span>
      <span
        id="dialog-current-time"
        class="text-base font-semibold font-mono tabular-nums text-text"
        >14:32</span
      >
    </div>

    <!-- Position list (rendered dynamically by script) -->
    <div id="position-list" class="flex flex-col gap-2">
      <!-- Positions will be rendered by restore-dialog/index.ts -->
    </div>

    <!-- Hint text -->
    <div id="hint-text" class="text-xs text-text-muted text-center mt-4">
      Press 0-3 to select, Esc or R to close
    </div>
  </div>

  <!-- Hint shown when dialog is closed -->
  <div
    id="dialog-closed-hint"
    class="absolute hidden items-center justify-center gap-3 px-8 py-6 bg-bg-card/50 border border-border/50 rounded-2xl text-text-muted transition-opacity duration-200"
  >
    <span>Press</span>
    <InlineKey class="min-w-[32px] h-8 px-2 text-sm rounded-lg">R</InlineKey>
    <span>to open restore dialog</span>
  </div>
</div>

<script src="../scripts/restore-dialog/index.ts"></script>
