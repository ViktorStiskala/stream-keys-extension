---
import Layout from '../layouts/Layout.astro';
import KeyboardKey from '../components/KeyboardKey.astro';
import FeatureCard from '../components/FeatureCard.astro';
import ServiceBadge from '../components/ServiceBadge.astro';
import RestoreDialog from '../components/RestoreDialog.astro';

const services = [
  {
    name: 'Disney+',
    color: '#113ccf',
    features: ['Space to play/pause', 'F for fullscreen', 'C for subtitles', 'Arrow keys to seek', 'Position restore'],
  },
  {
    name: 'HBO Max',
    color: '#b103fc',
    features: ['Space to play/pause', 'F for fullscreen', 'C for subtitles', 'Position restore'],
  },
  {
    name: 'BBC iPlayer',
    color: '#ff4d4d',
    features: ['Space to play/pause', 'F for fullscreen', 'C for subtitles', 'Arrow keys to seek', 'Position restore'],
  },
  {
    name: 'YouTube',
    color: '#ff0000',
    features: ['Position restore', 'Save positions with S', 'Native shortcuts preserved'],
  },
];

const shortcuts = [
  { key: 'Space', label: 'Play / Pause', description: 'Toggle playback anywhere, regardless of focus' },
  { key: 'F', label: 'Fullscreen', description: 'Enter or exit fullscreen mode' },
  { key: 'C', label: 'Subtitles', description: 'Toggle captions based on your preferences' },
  { key: 'R', label: 'Restore', description: 'Jump back to previous positions' },
  { key: 'S', label: 'Save', description: 'Bookmark your current position' },
  { key: '‚Üê/‚Üí', label: 'Seek', description: 'Rewind or fast-forward' },
];
---

<Layout title="Stream Keys - Video Keyboard Controls">
  <!-- Hero Section -->
  <section class="relative min-h-screen flex items-center justify-center px-4 py-20 overflow-hidden">
    <!-- Background decoration -->
    <div class="absolute top-1/4 left-1/4 w-96 h-96 bg-accent/10 rounded-full blur-3xl"></div>
    <div class="absolute bottom-1/4 right-1/4 w-72 h-72 bg-gold/10 rounded-full blur-3xl"></div>
    
    <div class="relative z-10 max-w-4xl mx-auto text-center">
      <!-- Logo -->
      <div class="animate-fade-in mb-8 shadow-md">
        <img 
          src="/images/icon.svg" 
          alt="Stream Keys" 
          class="w-32 h-32 mx-auto mb-6 drop-shadow-2xl"
        />
      </div>
      
      <!-- Title -->
      <h1 class="animate-fade-in delay-100 text-5xl md:text-7xl font-bold mb-6 font-display tracking-tight">
        <span class="gradient-text">Stream Keys</span>
      </h1>
      
      <!-- Tagline -->
      <p class="animate-fade-in delay-200 text-xl md:text-2xl text-text-muted mb-8 max-w-2xl mx-auto leading-relaxed">
        YouTube-style keyboard shortcuts for streaming services
      </p>
      
      <!-- Key highlights -->
      <div class="animate-fade-in delay-300 flex flex-wrap justify-center gap-4 mb-12">
        <KeyboardKey label="Space" description="Play/Pause" animate />
        <KeyboardKey label="F" description="Fullscreen" />
        <KeyboardKey label="C" description="Subtitles" />
        <KeyboardKey label="R" description="Restore" />
      </div>
      
      <!-- Problem statement -->
      <p class="animate-fade-in delay-400 text-text-muted mb-10 max-w-xl mx-auto">
        Tired of pressing Space and accidentally skipping ahead or triggering random buttons? 
        Stream Keys fixes broken keyboard behavior on streaming sites.
      </p>
      
      <!-- CTAs -->
      <div class="animate-fade-in delay-500 flex flex-wrap justify-center gap-4">
        <a 
          href="https://github.com/ViktorStiskala/chrome-stream-keys/releases/latest" 
          class="inline-flex items-center gap-2 px-6 py-3 bg-accent hover:bg-accent-bright text-white font-semibold rounded-xl transition-all duration-200 hover:scale-105 glow-accent"
        >
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
            <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
          </svg>
          Download
        </a>
        <a 
          href="#features" 
          class="inline-flex items-center gap-2 px-6 py-3 bg-surface hover:bg-bg-card text-text font-semibold rounded-xl border border-border transition-all duration-200 hover:border-accent/50"
        >
          Learn More
          <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
          </svg>
        </a>
      </div>
      
      <!-- Browser badges -->
      <div class="animate-fade-in delay-600 flex justify-center gap-6 mt-8">
        <span class="text-sm text-text-subtle">Chrome</span>
        <span class="text-sm text-text-subtle">Firefox</span>
        <span class="text-sm text-text-subtle">Safari</span>
      </div>
    </div>
    
    <!-- Scroll indicator -->
    <div class="absolute bottom-8 left-1/2 -translate-x-1/2 animate-bounce">
      <svg class="w-6 h-6 text-text-subtle" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3" />
      </svg>
    </div>
  </section>

  <!-- Features Section -->
  <section id="features" class="py-24 px-4">
    <div class="max-w-6xl mx-auto">
      <div class="text-center mb-16">
        <h2 class="text-3xl md:text-4xl font-bold mb-4 font-display">
          Keyboard Shortcuts That <span class="text-accent">Actually Work</span>
        </h2>
        <p class="text-text-muted max-w-2xl mx-auto">
          Your shortcuts always do what you expect ‚Äì play, pause, toggle subtitles, or go fullscreen ‚Äì no matter what's focused on the page.
        </p>
      </div>
      
      <!-- Shortcuts grid -->
      <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6 mb-20">
        {shortcuts.map((shortcut, i) => (
          <div class={`text-center animate-fade-in delay-${(i + 1) * 100}`}>
            <KeyboardKey label={shortcut.key} size="lg" />
            <h4 class="mt-3 font-semibold text-text">{shortcut.label}</h4>
            <p class="mt-1 text-xs text-text-muted">{shortcut.description}</p>
          </div>
        ))}
      </div>
      
      <!-- Feature cards -->
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
        <FeatureCard 
          title="Works in Fullscreen" 
          description="All shortcuts work reliably in fullscreen mode, including after you exit fullscreen. No more clicking to regain focus."
          icon="üñ•Ô∏è"
        />
        <FeatureCard 
          title="Media Keys Support" 
          description="Control playback with your keyboard's media keys. Play/pause and skip forward/backward work out of the box."
          icon="‚å®Ô∏è"
        />
        <FeatureCard 
          title="Custom Seek Time" 
          description="Override the default 10-second skip duration. Configure any value from 5 to 120 seconds in the settings."
          icon="‚è±Ô∏è"
        />
        <FeatureCard 
          title="Smart Subtitles" 
          description="Press C to toggle subtitles. The extension remembers your preferred languages and picks the best match."
          icon="üí¨"
        />
        <FeatureCard 
          title="Privacy First" 
          description="No tracking, no analytics, no external requests. Your viewing habits stay private. Completely open source."
          icon="üîí"
        />
        <FeatureCard 
          title="Lightweight" 
          description="Minimal footprint with zero impact on page performance. Only activates on supported streaming sites."
          icon="‚ö°"
        />
      </div>
    </div>
  </section>

  <!-- Position Restore Section -->
  <section class="py-24 px-4 bg-gradient-to-b from-transparent via-bg-elevated/50 to-transparent">
    <div class="max-w-6xl mx-auto">
      <div class="grid lg:grid-cols-2 gap-12 items-center">
        <div>
          <h2 class="text-3xl md:text-4xl font-bold mb-6 font-display">
            Never Lose Your Place
          </h2>
          <p class="text-text-muted mb-6 leading-relaxed">
            Press <kbd class="inline-flex items-center justify-center min-w-[28px] h-7 px-2 mx-1 bg-key-bg border border-key-border rounded font-mono font-semibold text-sm text-text align-middle" style="box-shadow: 0 2px 0 var(--color-key-shadow);">R</kbd> to instantly jump back to where you were. Perfect for when you overshoot a skip, accidentally seek too far, or want to rewatch a scene.
          </p>
          
          <ul class="space-y-4 mb-8">
            <li class="flex items-start gap-3">
              <span class="w-6 h-6 rounded-full bg-accent/20 text-accent flex items-center justify-center text-sm flex-shrink-0 mt-0.5">‚úì</span>
              <span class="text-text-muted">Your starting position when the video loaded</span>
            </li>
            <li class="flex items-start gap-3">
              <span class="w-6 h-6 rounded-full bg-accent/20 text-accent flex items-center justify-center text-sm flex-shrink-0 mt-0.5">‚úì</span>
              <span class="text-text-muted">Manually saved positions (press <kbd class="inline-flex items-center justify-center min-w-[24px] h-6 px-1.5 mx-0.5 bg-key-bg border border-key-border rounded font-mono font-semibold text-xs text-text align-middle" style="box-shadow: 0 2px 0 var(--color-key-shadow);">S</kbd> to bookmark)</span>
            </li>
            <li class="flex items-start gap-3">
              <span class="w-6 h-6 rounded-full bg-accent/20 text-accent flex items-center justify-center text-sm flex-shrink-0 mt-0.5">‚úì</span>
              <span class="text-text-muted">Up to 3 recent positions from before you seeked</span>
            </li>
            <li class="flex items-start gap-3">
              <span class="w-6 h-6 rounded-full bg-accent/20 text-accent flex items-center justify-center text-sm flex-shrink-0 mt-0.5">‚úì</span>
              <span class="text-text-muted">One-key access ‚Äì press <kbd class="inline-flex items-center justify-center min-w-[24px] h-6 px-1.5 mx-0.5 bg-key-bg border border-key-border rounded font-mono font-semibold text-xs text-text align-middle" style="box-shadow: 0 2px 0 var(--color-key-shadow);">0</kbd>‚Äì<kbd class="inline-flex items-center justify-center min-w-[24px] h-6 px-1.5 mx-0.5 bg-key-bg border border-key-border rounded font-mono font-semibold text-xs text-text align-middle" style="box-shadow: 0 2px 0 var(--color-key-shadow);">3</kbd> to jump directly</span>
            </li>
          </ul>
          
          <p class="text-sm text-text-subtle italic">
            It's like undo for video navigation.
          </p>
        </div>
        
        <div class="lg:pl-8">
          <RestoreDialog />
        </div>
      </div>
    </div>
  </section>

  <!-- Supported Services Section -->
  <section id="services" class="py-24 px-4">
    <div class="max-w-6xl mx-auto">
      <div class="text-center mb-16">
        <h2 class="text-3xl md:text-4xl font-bold mb-4 font-display">
          Supported Services
        </h2>
        <p class="text-text-muted max-w-2xl mx-auto">
          Stream Keys works with major streaming platforms. Each service can be individually enabled or disabled.
        </p>
      </div>
      
      <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-6">
        {services.map((service) => (
          <ServiceBadge name={service.name} color={service.color} features={service.features} />
        ))}
      </div>
    </div>
  </section>

  <!-- Installation Section -->
  <section id="install" class="py-24 px-4 bg-gradient-to-b from-transparent via-bg-elevated/50 to-transparent">
    <div class="max-w-4xl mx-auto text-center">
      <h2 class="text-3xl md:text-4xl font-bold mb-4 font-display">
        Get Stream Keys
      </h2>
      <p class="text-text-muted mb-12 max-w-xl mx-auto">
        Install the extension for your browser and start using keyboard shortcuts that actually work.
      </p>
      
      <!-- Browser options -->
      <div class="grid sm:grid-cols-3 gap-6 mb-12">
        <a 
          href="https://github.com/ViktorStiskala/chrome-stream-keys/releases/latest"
          class="group p-6 rounded-2xl bg-bg-card border border-border hover:border-accent/50 transition-all duration-300"
        >
          <div class="w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-br from-[#4285f4] to-[#34a853] flex items-center justify-center">
            <svg class="w-8 h-8 text-white" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.6 0 12 0zm0 19.2c-4 0-7.2-3.2-7.2-7.2S8 4.8 12 4.8s7.2 3.2 7.2 7.2-3.2 7.2-7.2 7.2z"/>
            </svg>
          </div>
          <h3 class="font-semibold mb-2">Chrome</h3>
          <p class="text-sm text-text-muted">Download ZIP</p>
        </a>
        
        <a 
          href="https://github.com/ViktorStiskala/chrome-stream-keys/releases/latest"
          class="group p-6 rounded-2xl bg-bg-card border border-border hover:border-accent/50 transition-all duration-300"
        >
          <div class="w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-br from-[#ff9500] to-[#ff6b00] flex items-center justify-center">
            <svg class="w-8 h-8 text-white" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.6 0 12 0zm5.6 17.6c-.3.4-.7.6-1.2.6-.3 0-.6-.1-.9-.3L12 15l-3.5 2.9c-.3.2-.6.3-.9.3-.5 0-.9-.2-1.2-.6-.5-.7-.3-1.6.4-2.1l3.4-2.8-3.4-2.8c-.7-.5-.9-1.4-.4-2.1.3-.4.7-.6 1.2-.6.3 0 .6.1.9.3L12 10l3.5-2.9c.3-.2.6-.3.9-.3.5 0 .9.2 1.2.6.5.7.3 1.6-.4 2.1l-3.4 2.8 3.4 2.8c.7.5.9 1.4.4 2.1z"/>
            </svg>
          </div>
          <h3 class="font-semibold mb-2">Firefox</h3>
          <p class="text-sm text-text-muted">Download ZIP</p>
        </a>
        
        <a 
          href="https://github.com/ViktorStiskala/chrome-stream-keys/releases/latest"
          class="group p-6 rounded-2xl bg-bg-card border border-border hover:border-accent/50 transition-all duration-300"
        >
          <div class="w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-br from-[#007aff] to-[#5856d6] flex items-center justify-center">
            <svg class="w-8 h-8 text-white" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm0 18c-4.4 0-8-3.6-8-8s3.6-8 8-8 8 3.6 8 8-3.6 8-8 8z"/>
            </svg>
          </div>
          <h3 class="font-semibold mb-2">Safari</h3>
          <p class="text-sm text-text-muted">Download DMG</p>
        </a>
      </div>
      
      <!-- Manual install instructions -->
      <details class="text-left max-w-2xl mx-auto bg-bg-card rounded-xl border border-border overflow-hidden">
        <summary class="px-6 py-4 cursor-pointer text-text font-medium hover:bg-surface transition-colors">
          Manual Installation (Chrome)
        </summary>
        <div class="px-6 py-4 border-t border-border text-sm text-text-muted space-y-3">
          <ol class="list-decimal list-inside space-y-2">
            <li>Download the ZIP archive from the releases page</li>
            <li>Extract to a permanent location (the extension loads from this folder)</li>
            <li>Open Chrome and go to <code class="px-2 py-0.5 bg-surface rounded text-text">chrome://extensions/</code></li>
            <li>Enable "Developer mode" in the top right</li>
            <li>Click "Load unpacked" and select the extension folder</li>
          </ol>
        </div>
      </details>
    </div>
  </section>

  <!-- Footer -->
  <footer class="py-12 px-4 border-t border-border">
    <div class="max-w-6xl mx-auto">
      <div class="flex flex-col md:flex-row items-center justify-between gap-6">
        <div class="flex items-center gap-3">
          <img src="/images/icon.svg" alt="Stream Keys" class="w-8 h-8" />
          <span class="font-semibold">Stream Keys</span>
        </div>
        
        <div class="flex items-center gap-6 text-sm text-text-muted">
          <a href="https://github.com/ViktorStiskala/chrome-stream-keys" class="hover:text-text transition-colors">
            GitHub
          </a>
          <a href="https://github.com/ViktorStiskala/chrome-stream-keys/blob/main/LICENSE" class="hover:text-text transition-colors">
            MIT License
          </a>
        </div>
        
        <p class="text-sm text-text-subtle">
          No tracking. No ads. Just keyboard shortcuts.
        </p>
      </div>
    </div>
  </footer>
</Layout>
