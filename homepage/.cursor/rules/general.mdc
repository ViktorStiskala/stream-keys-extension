---
description: Stream Keys Homepage - General Development Notes
alwaysApply: true
---

# Stream Keys Homepage Development Notes

## Project Overview

This is the marketing homepage for the Stream Keys browser extension. Built with Astro, Tailwind CSS v4, and TypeScript, deployed to Cloudflare Pages.

## Tech Stack

- **Astro** v5.x - Static site generator
- **Tailwind CSS** v4 - CSS-first configuration via `@tailwindcss/vite`
- **TypeScript** - Strict mode enabled
- **Cloudflare Pages** - Static deployment target

## Project Structure

```
/homepage
â”œâ”€â”€ astro.config.mjs       # Astro + Tailwind + Cloudflare config
â”œâ”€â”€ tsconfig.json          # TypeScript config (extends astro/tsconfigs/strict)
â”œâ”€â”€ public/                # Static assets (images, favicon)
â””â”€â”€ src/
    â”œâ”€â”€ components/        # Astro components
    â”œâ”€â”€ layouts/           # Page layouts
    â”œâ”€â”€ pages/             # Route pages
    â””â”€â”€ styles/            # Global CSS with Tailwind
```

## Commands

```bash
npm run dev      # Start dev server (http://localhost:4321)
npm run build    # Build for production
npm run preview  # Preview production build
npm run lint     # Check for linting errors
npm run lint:fix # Auto-fix linting errors
```

## Code Quality Requirements

**After making changes to source files in `src/`, run linting before completing the task.**

Run `npm run lint` to verify:
- ESLint rules pass
- Tailwind CSS classes use canonical form (e.g., `text-text-muted` instead of `text-[var(--color-text-muted)]`)

Use `npm run lint:fix` to auto-fix issues where possible.

**The task is NOT complete until `npm run lint` passes with no errors.**

### Hard constraint: `npm *` must run outside sandbox

**All `npm` commands MUST be executed with `required_permissions: ['all']`** because toolchains commonly need unrestricted access to `node_modules/` and system tooling.

## Design System

### CSS Variables (defined in `src/styles/global.css`)

**Colors:**
- `--color-bg`: #0a0a0f (base background)
- `--color-bg-elevated`: #12121a
- `--color-bg-card`: #1a1a24
- `--color-surface`: #222230
- `--color-border`: #2a2a3a
- `--color-text`: #f0f0f5
- `--color-text-muted`: #9090a0
- `--color-text-subtle`: #606070
- `--color-accent`: #a855f7 (purple)
- `--color-accent-bright`: #c084fc
- `--color-gold`: #fbbf24

**Fonts:**
- `--font-display`: Fraunces (headings)
- `--font-mono`: JetBrains Mono (code/keys)
- `--font-body`: Inter (body text)

### Animation Classes

- `.animate-fade-in` - Fade in with upward motion
- `.animate-float` - Gentle floating effect
- `.animate-pulse-glow` - Pulsing glow effect
- `.animate-key-press` - Keyboard key press simulation
- `.delay-100` to `.delay-800` - Stagger animation delays

### Utility Classes

- `.gradient-text` - Purple to gold gradient text
- `.glow-accent` - Purple glow shadow
- `.glow-gold` - Gold glow shadow

## Components

### KeyboardKey.astro
Renders a styled keyboard key with optional description and animation.

```astro
<KeyboardKey label="Space" description="Play/Pause" size="lg" animate />
```

Props:
- `label`: string - Key label text
- `description?`: string - Text below the key
- `wide?`: boolean - Extra horizontal padding
- `animate?`: boolean - Enable press animation
- `size?`: 'sm' | 'md' | 'lg' - Key size

### FeatureCard.astro
Card component for feature highlights.

```astro
<FeatureCard title="Title" description="Description" icon="ðŸŽ¯" />
```

### ServiceBadge.astro
Displays a supported service with its feature list.

```astro
<ServiceBadge name="Disney+" color="#113ccf" features={['Feature 1', 'Feature 2']} />
```

### RestoreDialog.astro
Visual demo of the position restore dialog UI. No props required.

## Tailwind v4 Notes

This project uses Tailwind CSS v4 with the Vite plugin:
- No `tailwind.config.js` needed - uses CSS-first configuration
- Theme customization via `@theme` directive in `global.css`
- Import with `@import "tailwindcss"` in CSS files

### Use Canonical Class Names

**Always use canonical Tailwind class names instead of arbitrary value syntax.**

When colors/fonts are defined in `@theme`, Tailwind generates native utility classes:

| Instead of (arbitrary)                  | Use (canonical)    |
|-----------------------------------------|--------------------|
| `text-[var(--color-text-muted)]`        | `text-text-muted`  |
| `bg-[var(--color-bg-card)]`             | `bg-bg-card`       |
| `border-[var(--color-border)]`          | `border-border`    |
| `font-[family-name:var(--font-display)]`| `font-display`     |

The linter (`npm run lint`) will warn about non-canonical classes.

## Cloudflare Pages Deployment

Build settings:
- **Build command**: `npm run build`
- **Output directory**: `dist`
- **Node.js version**: 25.x (matches `.node-version`)

The `@astrojs/cloudflare` adapter is configured for static output.

## Best Practices

1. **Components**: Keep components in `src/components/`, use `.astro` extension
2. **Styling**: Use Tailwind utilities, fall back to CSS variables for consistency
3. **Images**: Place in `public/images/`, reference with `/images/...`
4. **Animations**: Prefer CSS animations over JavaScript for performance
5. **Accessibility**: Include proper ARIA labels and semantic HTML
